<h2>Server settings</h2>
<ng-include src="views/join.html"></ng-include>

<form novalidate name="form" class="form-horizontal" role="form">
    <div class="form-group">
        <label for="systemName" class="col-md-3 control-label">System Name</label>

        <div class="col-md-9">
            <input type="text" class="form-control" id="systemName" placeholder="System Name"
                   ng-model="settings.systemName" required>
        </div>
    </div>
    <div class="form-group">
        <label for="port" class="col-md-3 control-label">Port</label>

        <div class="col-md-9">
            <input type="number" class="form-control" id="port" placeholder="Port" ng-model="settings.port" min="1" max="65000">
        </div>
    </div>


    <div class="form-group">
        <div class="col-md-9 col-md-offset-3">
            <button type="button" class="btn btn-primary" ng-click="save()">Save</button>
            <button type="button" class="btn btn-default" ng-click="restart()">Restart</button>
            <button type="button" class="btn btn-default pull-right" ng-click="openJoinDialog()">Merge Systems</button>
        </div>
    </div>
</form>

<h2>Change system password</h2>

<form novalidate name="form" class="form-horizontal" role="form">

    <div class="form-group">
        <label for="old-password" class="col-md-3 control-label">Old Password</label>

        <div class="col-md-9">
            <input type="password" class="form-control" id="old-password" placeholder="Old Password"
                   ng-model="oldPassword">
        </div>
    </div>

    <div class="form-group">
        <label for="password" class="col-md-3 control-label">New Password</label>

        <div class="col-md-9">
            <input type="password" class="form-control" id="password" placeholder="New Password"
                   ng-model="password">
        </div>
    </div>
    <div class="form-group" ng-class="{'has-error':form.confirmPassword.$error.nxEqualEx}">
        <label for="confirmPassword" class="col-md-3 control-label">Confirm Password</label>

        <div class="col-md-9">
            <input type="password" class="form-control" id="confirmPassword" name="confirmPassword"
                   placeholder="Confirm Password"
                   ng-model="confirmPassword" nx-equal-ex="password">

            <div class="help-inline">
                <span id="mustBeEqualSpan" ng-show="!!form.confirmPassword.$error.nxEqualEx">Must be equal!</span>
            </div>
        </div>
        <!--<ng-label>{{form.confirmPassword.$error.nxEqualEx}}</ng-label>-->

    </div>

    <div class="form-group">
        <div class="col-md-9 col-md-offset-3">
            <button type="button" class="btn btn-primary" ng-click="changePassword()">Change password</button>
        </div>
    </div>
</form>