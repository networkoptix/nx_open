<div class="container-fluid dark-theme row">
   <table style="width:100%" class="webclient-window">
        <tbody>
            <tr class="alerts-row" ng-if="hasMobileApp && !session.mobileAppNotified || ieNoWebm && !session.ieNoWebmNotified || webclientDisabled">
                <td colspan="2" class="alert">
                    <div class="webclient-panel mobile-alert" ng-if="hasMobileApp && !session.mobileAppNotified">
                        <div class="pull-right" >
                            <a ng-href="{{mobileAppLink}}" class="btn webclient-button caption-row" ng-class="mobileStore">
                                Install
                            </a>
                            <span class="webclient-button caption-row invisible-xs"
                                  ng-click="mobileAppAlertClose()"><span class="glyphicon glyphicon-remove"></span></span>
                        </div>
                        <div>
                            <span class="caption-row ">
                                Please, use the mobile application to view video
                            </span>
                        </div>
                    </div>

                    <div class="webclient-panel mobile-alert" ng-if="ieNoWebm && !session.ieNoWebmNotified">
                        <div class="pull-right" >
                            <a ng-href="https://tools.google.com/dlpage/webmmf/" class="btn webclient-button caption-row" >
                                Install
                            </a>
                            <span class="webclient-button caption-row" ng-click="ieNoWebmAlertClose()"><span class="glyphicon glyphicon-remove"></span></span>
                        </div>
                        <div>
                            <span class="caption-row ">
                                Please, install WebM Video for Internet Explorer to get better user experience.
                            </span>
                        </div>
                    </div>


                    <div class="webclient-panel mobile-alert" ng-if="webclientDisabled">
                        <div>
                            <span class="caption-row ">
                                Web Client flash player support is disabled. Issues may occur during video playback.
                            </span>
                        </div>
                    </div>


                </td>
            </tr>
            <tr>
                <td>
                    <div class="view-wrapper">
                        <camera-panel cameras-provider="camerasProvider" active-camera="activeCamera"
                                      player="player" current-resolution="currentResolution" toggle-camera-panel="toggleCameraPanel"
                                      ng-class="{'visible-xs':toggleCameraPanel, 'hidden-xs': !toggleCameraPanel}"></camera-panel>
                    </div>
                </td>
                <td width="100%" ng-class="{'hidden-xs':toggleCameraPanel}">
                    <div class="view-wrapper" ng-class="{invisible:!activeCamera}">
                        <div class="view-panel" ng-class="{'no-archive': !canViewArchive}">
                            <div class="stick-to-top top-gradient">
                                <div class="webclient-panel webclient-bottom-border">
                                    <div class="pull-right" >
                                        <!--REMOVE WHEN NOT DEBUG-->
                                        <div class="min-40 inline">&nbsp;</div>
                                        <div class="btn-group pull-up-5">
                                            <span class="video-icon pull-left-5" data-toggle="dropdown">
                                                <span class="glyphicon glyphicon-cog"></span>
                                            </span>
                                            <ul class="dropdown-menu video-settings" >
                                                <li class="video-settings-36"><label>Quality</label></li>
                                                <li class="video-settings-separation-line"></li>
                                                <li ng-repeat="resolution in availableResolutions"><a href="#" class="video-settings-20" 
                                                      ng-class="{active:resolution == activeResolution}"
                                                      ng-click="selectResolution(resolution);$event.preventDefault();">{{resolution}}</a></li>
                                                <li class="video-settings-separation-line" ng-if="debugMode"></li>
                                                <li class="video-settings-36" ng-if="debugMode"><label>Video Player</label></li>
                                                <li class="video-settings-separation-line" ng-if="debugMode"></li>
                                                <li ng-repeat="format in manualFormats" ng-if="debugMode"><a href="#" class="video-settings-20"
                                                      ng-class="{active:format == activeFormat}"
                                                      ng-click="selectFormat(format);$event.preventDefault();">{{format}}</a></li>
                                            </ul>
                                        </div>
                                        <span class="video-icon" ng-if="0">
                                            <span class="glyphicon glyphicon-search"></span>
                                        </span>
                                        <span class="video-icon" ng-if="enableFullScreen"
                                              ng-click="fullScreen()">
                                            <span class="glyphicon glyphicon-fullscreen"></span>
                                        </span>
                                    </div>
                                    <div class="hide-excess-text video-title-back-button">
                                        <span class="visible-xs" ng-click="toggleCameraPanel=true" ng-class="{'back-button': !toggleCameraPanel}"><span class="glyphicon glyphicon-arrow-left"></span></span>
                                        <span class="caption-row video-name">
                                            <span ng-if="activeCamera.status!='Recording' && activeCamera.scheduleEnabled" class="danger video-status">&#x25E6;</span>
                                            <span ng-if="1 || activeCamera.status=='Recording' " class="danger video-status">&#x25CF;</span>
                                            <span ng-if="activeCamera.status!='Recording' && !activeCamera.scheduleEnabled" class="video-status">&nbsp;</span>
                                            {{activeCamera.name + " (" + activeResolution + ")"}}
                                        </span>
                                    </div>
                                </div>
                            </div>

                            <div class="float-size">
                                <div class="camera-view-informer" ng-if="!positionSelected && activeCamera.status == 'Offline' ">
                                    <div class="camera-view-offline camera-view-message-icon"></div><br/><div class="camera-view-message">OFFLINE</div>
                                </div>
                                <div class="camera-view-informer" ng-if="!positionSelected && activeCamera.status == 'Unauthorized'" >
                                    <div class="camera-view-unauthorized camera-view-message-icon"></div>
                                    <br/>
                                    <div class="camera-view-message">UNAUTHORIZED</div>
                                </div>

                                <div class="camera-view-informer" ng-if="iOSVideoTooLarge">
                                    Video cannot be played.<br>
                                    iOS does not support video larger than fullHD (2MP: 1920x1080).<br>
                                </div>

                                <videowindow ng-class="{invisible: iOSVideoTooLarge || !positionSelected && (activeCamera.status == 'Offline' || activeCamera.status == 'Unauthorized')}"
                                             vg-update-time="updateTime($currentTime, $duration)"
                                             vg-player-ready="playerReady($API)" rotation="rotation"
                                             vg-src="activeVideoSource" player="player" active-format="activeFormat">
                                </videowindow>
                            </div>

                            <div class="stick-to-bottom" ng-class="{invisible:liveOnly && !activeCamera}">
                                <timeline
                                    can-play-live="!(activeCamera.status == 'Offline' || activeCamera.status == 'Unauthorized')"
                                    live-only="liveOnly"
                                    records-provider="activeVideoRecords"
                                    position-handler="switchPosition"
                                    play-handler="switchPlaying" can-view-archive="canViewArchive"
                                    position-provider="positionProvider" volume-Level="volumeLevel" server-time="serverTime"></timeline>
                            </div>
                        </div>
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</div>
