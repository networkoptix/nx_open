<div class="container">

    <ng-include src="Config.viewsDir + 'devtools/feedback.html'"></ng-include>
    <h1>一般的なイベント ツール</h1>
    
    <form class="form-horizontal" novalidate>

        <div class="form-group">
            <label class="col-sm-2 control-label ">ソース</label>
            <div class="col-sm-10">
                <input type="text" ng-model="session.event.source"
                       class="form-control">
            </div>
        </div>


        <div class="form-group">
            <label class="col-sm-2 control-label">キャプション</label>
            <div class="col-sm-10">
                <input type="text" ng-model="session.event.caption"
                       class="form-control">
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-2 control-label">説明</label>
            <div class="col-sm-10">
                <textarea ng-model="session.event.description"
                          class="form-control"></textarea>
            </div>
        </div>

         <div class="form-group AnyEvent">
            <label class="col-sm-2 control-label">タイムスタンプ</label>
            <div class="col-sm-10">
                <input type="text" ng-model="session.event.timestamp"
                       class="form-control">
            </div>
        </div>

        <div class="form-group">
            <label class="col-sm-2 control-label">状態</label>
            <div class="col-sm-10">
                <select ng-model="session.event.state" ng-options="state.value as state.label for state in Config.debugEvents.states"
                        class="form-control"></select>
            </div>
        </div>


        <div class="form-group">
            <label class="col-sm-2 control-label">メタデータ - JSON</label>
            <div class="col-sm-10">
                <textarea ng-model="session.event.metadata" class="form-control"
                          placeholder='{"cameraRefs":["cameraUUID"]}' rows="4"></textarea>
            </div>
        </div>



        <div class="form-group">
            <label class="col-sm-2 control-label">URLをリクエスト</label>
            <div class="col-sm-10">
                <p class="form-control-static">{{generateEventLink()}}</p>
            </div>
        </div>

        <div class="form-group">
            <div class="col-sm-offset-2 col-sm-10">
                <button type="submit" class="btn btn-primary" ng-click="generateEvent()">イベントを生成する</button>
                <a class="btn btn-default" ng-if="session.method.method=='GET'" ng-href="{{generateEventLink()}}" target="_blank">新しいタブで開く</a>
            </div>
        </div>




        <div class="form-group" ng-if="result.result">
            <label class="col-sm-2 control-label">ステータス</label>
            <div class="col-sm-10">
                <p class="form-control-static">{{result.status}}</p>
            </div>
        </div>
        <div class="form-group" ng-if="result.result">
            <label class="col-sm-2 control-label">結果</label>
            <div class="col-sm-10">
                <pre>{{result.result}}</pre>
            </div>
        </div>
    </form>
</div>
