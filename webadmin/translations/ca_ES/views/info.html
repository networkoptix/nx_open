<div class="container">
    <div class="row">

        <div class="col-md-4 col-md-push-8">
            <system-info></system-info>
        </div>
        <div class="col-md-8 col-md-pull-4">
            <uib-tabset>
                <uib-tab heading="{{L.info.tabs.graphs}}" ng-if="user.hasAllResources">
                    <br>
                    <ng-include src="Config.viewsDir + 'components/health.html'"></ng-include>
                </uib-tab>
                <uib-tab heading="{{L.info.tabs.storage}}" ng-if="user.isAdmin">
                    <br>
                    <p>A continuaci√≥ es mostra una llista de les ubicacions d'emmagatzematge disponibles en aquest servidor</p>
                    <table class="table">
                        <thead>
                        <tr>
                            <th>
                                URL
                            </th>
                            <th >
                                Espai
                            </th>
                            <th width="54">
                                &nbsp;
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr ng-repeat="storage in storages">
                            <td class="storage-url">{{storage.url}}</td>
                            <td class="storage-total-space">{{formatSpace(storage.totalSpace)}}</td>
                            <td class="storage-indicators">
                                <icon for="storage.isExternal" on-true="globe" on-false="hdd" title-true="External" title-false="Internal" />
                                <icon for="storage.isUsedForWriting" on-true="pencil" title-true="Used for writing"/>
                                <icon for="storage.isWritable && !storage.isUsedForWriting" on-true="pencil" title-true="Writable" class="icon-inactive"/>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </uib-tab>
                <uib-tab heading="{{L.info.tabs.log}}" ng-if="user.isAdmin">
                    <br>
                    <div class="form-inline">
                        <label class="my-1 mr-2" for="loggerSelect">Registrador actual:</label>
                        <select class="custom-select my-1 mr-sm-2" id="loggerSelect"
                                ng-model="currentLogger" ng-options="logger for logger in loggers"
                                ng-change="getLogger(currentLogger)"></select>
                    </div>
                    <br>
                    <iframe class="log-frame" name="log-frame" ng-src="{{logUrl}}"></iframe>
                    <a ng-href="{{logUrl}}"  target="log-frame"
                       id="refresh-log" class="btn btn-primary">Actualitza</a>
                    <a ng-if="!mode.liteClient" ng-href="{{logUrl}}"
                       target="_blank" id="open-log" class="btn btn-default">Obre en una finestra nova</a>
                </uib-tab>
            </uib-tabset>
        </div>
    </div>
</div>
