<div class="camera-links-panel night-mode">
    <div ng-click="cameraLinks.enabled = false" class="pull-right">
        <span class="glyphicon glyphicon-remove"></span>
    </div>
    <div class='camera-links-title'>Деталі</div>
    <table>
        <tr ng-if="debugMode"><td>Відтворюється</td><td class="camera-links-info">{{transport}} - {{currentResolution}} в {{player}}</td></tr>
        <tr><td>Ім’я</td><td class="camera-links-info">{{activeCamera.name}}</td></tr>
        <tr>
            <td>CameraID</td>
            <td class="camera-links-info buffer">{{activeCamera.id.replace('{','').replace('}','')}}<br>
                <copy-button copy-data="activeCamera.id.replace('{','').replace('}','')"></copy-button>
            </td>
        </tr>
        <tr ng-if="activeCamera.logicalId">
            <td>LogicalID</td>
            <td class="camera-links-info buffer">{{activeCamera.logicalId.replace('{', '').replace('}', '')}}<br>
                <copy-button copy-data="activeCamera.logicalId.replace('{','').replace('}','')"></copy-button>
            </td>
        </tr>
        <tr><td>IP (URL)</td><td class="camera-links-info"><a target="_blank" ng-href="{{activeCamera.url | checkProtocol}}">{{activeCamera.url}}</a></td></tr>
        <tr>
            <td>Перегляд</td>
            <td>
                <a target="_blank" ng-href="{{formatLink(activeCamera, 0, 'web')}}">Web</a>
                <copy-button copy-data="formatLink(activeCamera, 0, 'web')"></copy-button>
            </td>
        </tr>
        <tr ng-repeat="stream in activeCamera.mediaStreams">
            <td>{{streamName(stream)}}</td>
            <td>
                <span ng-repeat="transport in stream.transports">
                    <a class="text-uppercase" target="_blank" ng-href="{{formatLink(activeCamera,stream.encoderIndex,transport)}}">{{transport}}</a>
                    <span ng-if="stream.transports.length-1 != $index">&nbsp;/&nbsp;</span>
                </span>
            </td>
        </tr>
        <tr>
            <td>Завантаження</td>
            <td>
                <a target="_blank" ng-href="{{formatLink(activeCamera, 0, 'download')}}">Висока</a>
                &nbsp;/&nbsp;
                <a target="_blank" ng-href="{{formatLink(activeCamera, 1, 'download')}}">Низька</a>
                &nbsp;/&nbsp;
                <a target="_blank" ng-href="{{formatLink(activeCamera, 0, 'preview')}}">Попередній перегляд</a>
            </td>
        </tr>
    </table>
    <div class="camera-links-break"></div>
    <div class='camera-links-title'>Параметри посилань</div>
    <table>
        <tr>
            <td colspan="2"><label><input type="checkbox" ng-model="linkSettings.useAuth">&nbsp;Використовувати тимчасовий ключ</label></td>
        </tr>
        <tr>
            <td colspan="2"><label><input type="checkbox" ng-model="linkSettings.useCredentials"
                       ng-disabled="linkSettings.useAuth">&nbsp;Використовувати облікові дані</label></td>
        </tr>
        <tr ng-if="!linkSettings.useAuth && linkSettings.useCredentials">
            <td><label class="camera-links-label" for="useLogin">Ім'я користувача</label></td>
            <td><input id="useLogin" type="text" class="input-sm camera-links-info"
                       ng-model="linkSettings.useLogin"></td>
        </tr>
        <tr ng-if="!linkSettings.useAuth && linkSettings.useCredentials">
            <td><label class="camera-links-label" for="usePassword">Пароль</label></td>
            <td><input id="usePassword" type="text" class="input-sm camera-links-info"
                       ng-model="linkSettings.usePassword"></td>
        </tr>
        <tr>
            <td><label class="camera-links-label" for="duration">Тривалість (сек.)</label></td>
            <td><input id="duration" type="text" class="input-sm camera-links-info"
                       ng-model="linkSettings.duration"></td>
        </tr>
        <tr>
            <td><label class="camera-links-label" for="resolution">Роздільна здатність</label></td>
            <td><input id="resolution" type="text" class="input-sm camera-links-info" 
                       ng-model="linkSettings.resolution"></td>
        </tr>
        <tr>
            <td>Позиція відтворення</td><td class="camera-links-info">{{liveMode?'live': position.toFixed(0)}}</td>
        </tr>
    </table>
</div>
