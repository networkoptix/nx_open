# Structure is built on top of IP level abstraction.
# Hosts, which can reach each other on IP level, are considered as nodes located in one network.
# NAT networks are treated as separate networks. They cannot be reached from outside.
# Some nodes can be in several networks but
# nothing is routed through them on IP level.
#
# In this example, *a* and *b* are both in two networks but they don't serve as router.
networks:
  10.254.1.0/24:
    h1:
    h2:
      10.254.2.0/24:
        h21:
        h22:
          10.254.3.0/24:
            h221:
            h222:
            c:
        a:
        h23:
    h3:
  10.254.4.0/24:
    h4:
    a:
    b:
  10.254.5.0/24:
    b:
    h5:
      10.254.6.0/24:
        c:
        h51:
default_gateways:  # Where to route traffic with unknown destination.
  c: h22  # Mandatory for *c*: disambiguate where to direct unknown traffic.
  h22: internet  # Special: connect node to internet via host.
  a:  # None: no default route at all -- reject unknown traffic.
