<div class="card card-default" process-loading="gettingSystemUsers">
    <div class="card-body">
        <h2 class="card-title">Utilizadores</h2>

        <div class="table-responsive">
            <table class="table table-hover" ng-if="system.users.length">
                <thead>
                    <tr>
                        <th>Nome</th>
                        <th>Email</th>
                        <th>Permissões</th>
                        <th class="button-cell"></th>
                        <th class="button-cell"></th>
                    </tr>
                </thead>
                <tbody>
                <tr ng-repeat="user in system.users" class="hoverable" ng-class="{disabled:!user.isEnabled}">
                    <td class="user-name">{{user.fullName}}</td>
                    <td class="user-email">{{user.email}}</td>
                    <td class="user-role">
                    <span class="inactive" ng-if="!system.isAvailable"
                          title="{{unavailableMessage}}">{{$root.L.accessRoles[user.accessRole].label || user.accessRole}}</span>
                        <span ng-if="system.isAvailable">{{user.userRole.name || $root.L.accessRoles[user.accessRole].label || user.accessRole}}</span>
                    </td>
                    <td class="button-cell">
                        <a href=''
                           class="hover-visible image-link"
                           ng-if="system.isAvailable && user.canBeEdited"
                           ng-class="{disabled:locked[user.email]}"
                           title="Editar permissões"
                           ng-click="editShare(user)">
                            <span class="glyphicon glyphicon-pencil"></span>
                            <span class="visible-lg-inline">Edit</span>
                        </a>
                    </td>
                    <td class="button-cell">
                        <a href=''
                           class="hover-visible image-link"
                           ng-if="system.isAvailable && user.canBeDeleted"
                           ng-class="{ 'disabled': locked[user.email]}"
                           title="Apagar"
                           ng-click="unshare(user)">
                            <span class="glyphicon glyphicon-remove"></span>
                            <span class="visible-lg-inline">Delete</span>
                        </a>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
