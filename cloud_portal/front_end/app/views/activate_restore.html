<div>
    <div ng-if="data.activateCode">
        <process-alert process="activate"
                       process-message="'Activating account ...'"
                       success-message="'Your account was successfully activated.'"
                       error-prefix="'Couldn\'t activate your account:'"></process-alert>
    </div>

    <div ng-if="reactivating">
        <process-alert process="reactivate"
                       intro-message="'You are going to confirm your account. Please, enter your account email.'"
                       success-message="'Confirmation link was send to your email. Check it to continue.'"
                       error-prefix="'Couldn\'t send confirmation email:'"></process-alert>
        <form name="reactivateAccount" class="form-horizontal" ng-if="!reactivate.success" novalidate>
            <div class="form-group" validate-field>
                <label for="emailReactivate"  class="col-sm-3 control-label">Email address</label>
                <div class="col-sm-5">
                    <input type="email" class="form-control"  ng-pattern="Config.emailRegex"
                           ng-model="data.email"
                           id="emailReactivate"
                           name="email"
                           required>
                </div>
                <div class="col-sm-4">
                    <span class="help-block" ng-if="reactivateAccount.email.$touched && reactivateAccount.email.$error.required">Email is required.</span>
                    <span class="help-block" ng-if="reactivateAccount.email.$touched && reactivateAccount.email.$error.email || reactivateAccount.email.$error.pattern">Please, enter a valid email.</span>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-3 col-sm-9">
                    <process-button process="reactivate"
                                    form="reactivateAccount"
                                    button-text="'Send'"></process-button>
                </div>
            </div>
        </form>
    </div>

    <div ng-if="restoring">
        <process-alert process="restore"
                       intro-message="'You are going to restore your password. Please, enter your account email.'"
                       success-message="'Confirmation link was send to your email. Check it for creating a new password'"
                       error-prefix="'Couldn\'t send confirmation email:'"></process-alert>
        <form name="restorePassword" class="form-horizontal" ng-if="!restore.success" novalidate>
            <div class="form-group" validate-field>
                <label for="email"  class="col-sm-3 control-label">Email address</label>
                <div class="col-sm-5">
                    <input type="email" class="form-control"  ng-pattern="Config.emailRegex"
                           ng-model="data.email"
                           id="email"
                           name="email"
                           required>
                </div>
                <div class="col-sm-4">
                    <span class="help-block" ng-if="restorePassword.email.$touched && restorePassword.email.$error.required">Email is required.</span>
                    <span class="help-block" ng-if="restorePassword.email.$touched && restorePassword.email.$error.email || restorePassword.email.$error.pattern">Please, enter a valid email.</span>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-3 col-sm-9">
                    <process-button process="restore"
                                    form="restorePassword"
                                    button-text="'Restore password'"></process-button>
                </div>
            </div>
        </form>
    </div>
    <div ng-if="data.restoreCode">
        <process-alert process="change"
                       intro-message="'Please, enter new password for your account.'"
                       success-message="'Password successfully saved'"
                       error-prefix="'Couldn\'t save new password:'"></process-alert>

        <form name="restorePasswordWithCode" class="form-horizontal" ng-if="!change.success" novalidate>

            <password-input ng-model="data.newPassword" id="'newPassword'" label="'New password'"></password-input>

            <div class="form-group">
                <div class="col-sm-offset-3 col-sm-9">
                    <process-button process="change"
                                    form="restorePasswordWithCode"
                                    button-text="'Save password'"></process-button>
                </div>
            </div>
        </form>
    </div>
</div>