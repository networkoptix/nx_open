<div class="nx-search-container">

    <div class="row">
        <div class="col-12">
            <div class="row vertical-align">
                <div class="col-12 pl-0">
                    <div class="btn-group w-100">
                        <span class="glyphicon glyphicon-search icon-search"></span>
                        <input type="text"
                               class="form-control w-100 search-input"
                               name="query"
                               placeholder="Search"
                               [ngClass]="{'non-empty': localFilter.query != ''}"
                               [(ngModel)]="localFilter.query"
                               autocomplete="off" />
                        <span class="glyphicon close-icon search-clear"
                              [hidden]="!localFilter.query" (click)="resetQuery()"></span>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div class="row mt-3 mr-0" *ngIf="showAdvancedOptions">
        <div class="col-md-4 col-lg-4 pl-0 pr-0 pr-md-1" *ngFor="let select of localFilter.selects">
            <label>{{ select.label }}</label>
            <nx-select [name]="select.label"
                       [items]="select.items"
                       label="optionLabel"
                       [(ngModel)]="select.selected"
                       (onSelected)="modelChanged('resolutions', $event)"
                       [selected]="select.selected ? select.selected : null">
            </nx-select>
        </div>
    </div>

    <div class="row mt-3" [hidden]="!showAdvancedOptions">
        <div class="form-group m-0">
            <nav aria-label="Cameras table navigation">
                <ul class="pagination m-0">
                    <li class="tags ml-0" *ngFor="let tag of localFilter.tags">
                        <nx-tag
                                [name]="tag.label"
                                [(ngModel)]="tag.value"
                                (onClick)="selectBooleanFilter($event)"
                                [value]="tag.value === null ? false : tag.value">
                            {{ tag.label }}
                        </nx-tag>
                    </li>
                </ul>
            </nav>
        </div>
    </div>

    <div class="row mt-3" *ngIf="expandable">
        <div class="col-12 dropdown p-0"
             [ngClass]="{'show': showAdvancedOptions}" (nxClickElsewhere)="show = false">
            <div class="area d-flex justify-content-between">
                <div class="d-flex justify-content-start">
                    <a href class="btn-text" (click)="toggleOptions()">
                        <div class="nav-arrow position-relative">
                            <span></span>
                            <span></span>
                        </div>
                        <span translete>Advanced search</span>
                    </a>
                </div>
                <div *ngIf="numberFilters != 0">
                    <span [ngSwitch]="numberFilters">
                            <span *ngSwitchCase="1">
                            1 filter applied
                        </span>
                            <span *ngSwitchDefault>
                            {{numberFilters}} filters applied
                        </span>
                    </span>
                    <span class="btn-text ml-2">
                        <a href (click)="resetFilters()">&#9587; <span translete>Clear All</span></a>
                    </span>
                </div>
            </div>
            <hr class="mb-0 w-100" [hidden]="!showAdvancedOptions">
        </div>
    </div>

</div>
