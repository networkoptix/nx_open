<div class="container" *ngIf="userAuthorized">
    <h1 translate>Download</h1>

    <div class="p-0">
        <ngb-tabset (tabChange)="beforeChange($event)" #tabs>
            <ngb-tab *ngFor="let platform of downloads.groups"
                     [id]="platform.os || platform.name">

                <ng-template ngbTabTitle>
                    <span class="tab-heading">{{language.lang.downloads.groups[platform.name].label}}</span>
                </ng-template>
                <ng-template ngbTabContent>
                    <div class="card card-default">
                        <div class="card-body flex-md p-4">
                            <div class="col-md-4 pl-md-4 order-2 order-md-2 border-left-md">
                                <b translate>Latest version</b>
                                <h2 class="version-number"><b>{{downloadsData.version}}</b></h2>
                                <p>
                                    <a [href]="downloadsData.releaseNotes" target="_blank" translate>What's new?</a>
                                    <br>&nbsp;
                                </p>
                            </div>

                            <div class="col-md-8 order-1 order-md-1 p-0">
                                <div class="row">
                                    <div class="col-md-12">
                                        <a class="media btn btn-default download-button"
                                           [href]="platform.installers[0].url">
                                            <div class="media-left mr-3">
                                                <span class="download-link"></span>
                                            </div>
                                            <div class="media-body text-left">
                                                <h2><b translate>Download %VMS_NAME%</b></h2>
                                                <span class="installer-name">
                                                    {{language.lang.downloads.groups[platform.name].shortLabel ||
                    language.lang.downloads.groups[platform.name].label}} {{platform.installers[0].formatName}}
                                                </span>
                                            </div>
                                        </a>
                                        <p class="small" *ngIf="language.lang.downloads.groups[platform.name].supported"
                                           [innerHTML]="language.lang.downloads.groups[platform.name].supported">
                                        </p>
                                    </div>
                                </div>

                                <div *ngIf="platform.installers.length > 1">
                                    <h5><b translate>Other packages:</b></h5>
                                    <div class="row">
                                        <div class="col-sm-6 col-lg-4"
                                             *ngFor="let link of platform.installers">
                                                <a [href]="link.url">
                                                    {{link.formatName}}
                                                </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </ng-template>
            </ngb-tab>
        </ngb-tabset>

        <div style="float: left; margin-top: 20px;" *ngFor="let platform of downloads.mobile">
            <a *ngIf="language.lang.downloads.mobile[platform.name].link != 'disabled'"
               class="mobile-link"
               [ngClass]="platform.os"
               [href]="language.lang.downloads.mobile[platform.name].link">
            </a>
        </div>

    </div>
</div>

