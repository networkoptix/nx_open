$header-height: 56px;
$logo-height: 32px;
$line-height: 24px;
$vertical-spacing: (($header-height - $line-height) / 2);
$horizontal-spacing: 16px;
$active-border-width: 3px;
$max-dropdown-width: 320px;
$max-header-item-width: 212px;


.navbar{

    border-top:none;
    border-left:none;
    border-right:none;
    border-radius:0;
    box-shadow: 0 6px 10px $light3;

    .navbar-brand{
        font-size: $font-size-h3;
        margin: 0 $horizontal-spacing !important;

        &>img{
            height:$logo-height;
            display: inline-block;
            margin:(($header-height - $logo-height)/2) 0;
        }
    }


    .nav>li{
        margin:0;
        padding:0;

        font-size: $font-size-large;

        &.vertical-bar{
            border-right: 1px solid $common-border-color;
            margin: $vertical-spacing 0 !important;
            height: $line-height;
            &.margin-right{
                margin-right:$horizontal-spacing !important;
            }
        }
        &>a{
            margin:0;
            padding:$vertical-spacing $horizontal-spacing;
            line-height: $line-height;

            &>span.ellipsis{
                white-space: nowrap;
                display:inline-block;
                vertical-align:bottom;
                line-height: $line-height;
                max-width: $max-header-item-width;
            }

            &:hover{
                background-color: $light2 !important;
            }
        }
        &.no-hover>a:hover{
            cursor:default;
            background-color: transparent !important;
        }

        &.open{
            border-bottom: 1px solid $navbar-default-bg;
            margin-bottom: -1px;

            &>a{
                color: $navbar-default-link-color !important;

                margin-left: -1px;
                border-left: 1px solid $dropdown-border;

                margin-right: -1px;
                border-right: 1px solid $dropdown-border;

                height: 58px;
                margin-bottom: -2px;

                @include box-shadow(0 2px 4px transparentize($dark15,0.8));
                &:hover{
                    background-color: transparent !important;
                }

                &:before {
                    content:"";
                    position:absolute;
                    left: $horizontal-spacing;
                    right: $horizontal-spacing;
                    bottom: 1px;
                    border-bottom: 1px solid $navbar-default-border;
                }
            }
        }

        &.active{
            background-color: white !important;
            &>a{
                margin:0 $horizontal-spacing;
                padding-left:0;
                padding-right:0;

                border-bottom: $active-border-width solid $brand_core;
                padding-bottom: $vertical-spacing - $active-border-width;
                &:hover{
                    background-color: transparent !important;
                }
            }
        }

        &.dropdown{
            &>a>span{
                &.glyphicon{
                    margin-left: -2px;
                    margin-right: 14px;
                }

                &.icon-caret{
                    margin-left: 14px;
                    margin-right: -2px;
                    margin-bottom: -2px;
                }
            }
        }

        &>.dropdown-menu {
            background-clip: border-box;
            min-width: 100%;
            padding: $vertical-spacing/2 0;
            border-radius: 0;

            margin-top: 1px;
            border: 1px solid $navbar-default-bg;

            &:before {
                content: " ";
                position: absolute;
                z-index: -1;
                top: 0px;
                left: -2px;
                right: -2px;
                bottom: -2px;
                border: 1px solid $navbar-default-border;
                border-top: none;

                @include box-shadow(0 2px 4px transparentize($dark15,0.8));
            }

            & > li > a{
                line-height: 32px;
                padding: 0 $horizontal-spacing;
                font-size: $font-size-base;

                text-overflow: ellipsis;
                max-width: $max-dropdown-width;
                overflow: hidden;

                &:hover{
                    border-right: 1px solid $light2;
                    border-left: 1px solid $light2;
                    margin-right: -1px;
                    margin-left: -1px;
                }


                .system-owner{
                    color:$light4;
                }
            }

            .nav-divider{
                margin: $vertical-spacing/2 $horizontal-spacing;
            }

            &.dropdown-right{
                right:auto;
            }
        }
    }

    .hidden-collapsed{
        display:block;
    }

    .hidden-expanded{
        display:none;
    }

    @media (max-width: $grid-float-breakpoint-max) {
      .navbar-collapse .vertical-bar{
        display: none;
      }

      .hidden-collapsed{
        display:none;
      }

      .hidden-expanded{
        display:block;
      }
    }

}
