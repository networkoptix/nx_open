<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>NVIDIA Tegra Multimedia API Framework: samples/01_video_encode/video_encode.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>samples/01_video_encode/video_encode.h</h1><a href="video__encode_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * Copyright (c) 2016, NVIDIA CORPORATION. All rights reserved.</span>
<a name="l00003"></a>00003 <span class="comment"> *</span>
<a name="l00004"></a>00004 <span class="comment"> * Redistribution and use in source and binary forms, with or without</span>
<a name="l00005"></a>00005 <span class="comment"> * modification, are permitted provided that the following conditions</span>
<a name="l00006"></a>00006 <span class="comment"> * are met:</span>
<a name="l00007"></a>00007 <span class="comment"> *  * Redistributions of source code must retain the above copyright</span>
<a name="l00008"></a>00008 <span class="comment"> *    notice, this list of conditions and the following disclaimer.</span>
<a name="l00009"></a>00009 <span class="comment"> *  * Redistributions in binary form must reproduce the above copyright</span>
<a name="l00010"></a>00010 <span class="comment"> *    notice, this list of conditions and the following disclaimer in the</span>
<a name="l00011"></a>00011 <span class="comment"> *    documentation and/or other materials provided with the distribution.</span>
<a name="l00012"></a>00012 <span class="comment"> *  * Neither the name of NVIDIA CORPORATION nor the names of its</span>
<a name="l00013"></a>00013 <span class="comment"> *    contributors may be used to endorse or promote products derived</span>
<a name="l00014"></a>00014 <span class="comment"> *    from this software without specific prior written permission.</span>
<a name="l00015"></a>00015 <span class="comment"> *</span>
<a name="l00016"></a>00016 <span class="comment"> * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ``AS IS'' AND ANY</span>
<a name="l00017"></a>00017 <span class="comment"> * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE</span>
<a name="l00018"></a>00018 <span class="comment"> * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR</span>
<a name="l00019"></a>00019 <span class="comment"> * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR</span>
<a name="l00020"></a>00020 <span class="comment"> * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,</span>
<a name="l00021"></a>00021 <span class="comment"> * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,</span>
<a name="l00022"></a>00022 <span class="comment"> * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR</span>
<a name="l00023"></a>00023 <span class="comment"> * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY</span>
<a name="l00024"></a>00024 <span class="comment"> * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<a name="l00025"></a>00025 <span class="comment"> * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<a name="l00026"></a>00026 <span class="comment"> * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00027"></a>00027 <span class="comment"> */</span>
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;fstream&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include "<a class="code" href="NvVideoEncoder_8h.html" title="Helper class for V4L2 Video Encoder.">NvVideoEncoder.h</a>"</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;sstream&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;stdint.h&gt;</span>
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00035"></a>00035 {
<a name="l00036"></a><a class="code" href="structcontext__t.html#74646a57054af56006dcf3b1cba0d202">00036</a>     <a class="code" href="classNvVideoEncoder.html" title="Helper class for V4L2 Video Encoder.">NvVideoEncoder</a> *enc;
<a name="l00037"></a><a class="code" href="structcontext__t.html#867bdb065cfabad7d2cd7b516e87789a">00037</a>     uint32_t encoder_pixfmt;
<a name="l00038"></a>00038 
<a name="l00039"></a>00039     <span class="keywordtype">char</span> *in_file_path;
<a name="l00040"></a>00040     std::ifstream *in_file;
<a name="l00041"></a>00041 
<a name="l00042"></a><a class="code" href="structcontext__t.html#b5bc1c72e66d07764d8a157ca3460d7a">00042</a>     uint32_t width;
<a name="l00043"></a><a class="code" href="structcontext__t.html#369b80d9374e4387cf9ae4caea0a081f">00043</a>     uint32_t height;
<a name="l00044"></a>00044 
<a name="l00045"></a>00045     <span class="keywordtype">char</span> *out_file_path;
<a name="l00046"></a>00046     std::ofstream *out_file;
<a name="l00047"></a>00047 
<a name="l00048"></a><a class="code" href="structcontext__t.html#a87a66e6749a8fa720291a1c51a919db">00048</a>     <span class="keywordtype">char</span> *ROI_Param_file_path;
<a name="l00049"></a><a class="code" href="structcontext__t.html#4b3354280e655c69ba984af0925121d5">00049</a>     std::ifstream *roi_Param_file;
<a name="l00050"></a>00050 
<a name="l00051"></a><a class="code" href="structcontext__t.html#462e3f0333ad19f97b779bf9990f8426">00051</a>     uint32_t bitrate;
<a name="l00052"></a><a class="code" href="structcontext__t.html#36355c13b2b574f6f063abafdfe346d9">00052</a>     uint32_t profile;
<a name="l00053"></a><a class="code" href="structcontext__t.html#dd0427c495237eafedda156fd0562aea">00053</a>     <span class="keyword">enum</span> v4l2_mpeg_video_bitrate_mode ratecontrol;
<a name="l00054"></a><a class="code" href="structcontext__t.html#99f40b9c84063e699e2bea7e09d54ac2">00054</a>     uint32_t iframe_interval;
<a name="l00055"></a><a class="code" href="structcontext__t.html#2a6fefddb6dad3f16360d6c81454b6f6">00055</a>     uint32_t idr_interval;
<a name="l00056"></a><a class="code" href="structcontext__t.html#afab58262740dfeddc83ab0fa19630de">00056</a>     <span class="keyword">enum</span> v4l2_mpeg_video_h264_level level;
<a name="l00057"></a><a class="code" href="structcontext__t.html#e69fa0c1c1c8f03d4a4bd26fadb28f21">00057</a>     uint32_t fps_n;
<a name="l00058"></a><a class="code" href="structcontext__t.html#262e26eb625c31bb0c541625b2c9fcc0">00058</a>     uint32_t fps_d;
<a name="l00059"></a>00059 
<a name="l00060"></a><a class="code" href="structcontext__t.html#33915329ee5c1faa0c5661b0f58ff15f">00060</a>     <span class="keyword">enum</span> <a class="code" href="group__V4L2Enc.html#g9565b5d35798ac76f362a0a7735b7252" title="Enum specifying the types of encoder temporal tradeoff levels.">v4l2_enc_temporal_tradeoff_level_type</a> temporal_tradeoff_level;
<a name="l00061"></a><a class="code" href="structcontext__t.html#130a8b055248ab603bc081bcc72bec40">00061</a>     <a class="code" href="group__V4L2Enc.html#gc6492466cd8c7d4fe221b3c964f94012" title="Enum specifying the type of slice length.">v4l2_enc_slice_length_type</a> slice_length_type;
<a name="l00062"></a><a class="code" href="structcontext__t.html#cee836eb49d864952653e970fbd19a8f">00062</a>     uint32_t slice_length;
<a name="l00063"></a><a class="code" href="structcontext__t.html#f878732e8907e28a4eed91a77cffbcf3">00063</a>     uint32_t virtual_buffer_size;
<a name="l00064"></a><a class="code" href="structcontext__t.html#aab1bf8ca09d78671f8acb896b767a71">00064</a>     uint32_t num_reference_frames;
<a name="l00065"></a><a class="code" href="structcontext__t.html#85af3e47e582f9480918b3a5a6503c52">00065</a>     uint32_t slice_intrarefresh_interval;
<a name="l00066"></a><a class="code" href="structcontext__t.html#a2942d3fe9190deac8f93c8a9d985dce">00066</a>     uint32_t num_b_frames;
<a name="l00067"></a><a class="code" href="structcontext__t.html#cc1b1faeba2f3180f8b0649ab4647f08">00067</a>     uint32_t nMinQpI;              <span class="comment">/* Minimum QP value to use for index frames */</span>
<a name="l00068"></a><a class="code" href="structcontext__t.html#4ee1c1af5ca99b0dd4dfc725a2f60408">00068</a>     uint32_t nMaxQpI;              <span class="comment">/* Maximum QP value to use for index frames */</span>
<a name="l00069"></a><a class="code" href="structcontext__t.html#65844ca7172052198ba4af8dcc5c11fd">00069</a>     uint32_t nMinQpP;              <span class="comment">/* Minimum QP value to use for P frames */</span>
<a name="l00070"></a><a class="code" href="structcontext__t.html#fdd390dd5190180e6ea828d6a575170b">00070</a>     uint32_t nMaxQpP;              <span class="comment">/* Maximum QP value to use for P frames */</span>
<a name="l00071"></a><a class="code" href="structcontext__t.html#52f53380972d8df35babf619056137f6">00071</a>     uint32_t nMinQpB;              <span class="comment">/* Minimum QP value to use for B frames */</span>
<a name="l00072"></a><a class="code" href="structcontext__t.html#90d17d5acbaeff99461c220de8b01a67">00072</a>     uint32_t nMaxQpB;              <span class="comment">/* Maximum QP value to use for B frames */</span>
<a name="l00073"></a><a class="code" href="structcontext__t.html#3930f17ff59ed578978b42c04e3a12f2">00073</a>     <span class="keywordtype">bool</span> insert_sps_pps_at_idr;
<a name="l00074"></a>00074 
<a name="l00075"></a><a class="code" href="structcontext__t.html#267681eeb02fd27e5ccc9f1a39918ef6">00075</a>     <span class="keywordtype">bool</span> report_metadata;
<a name="l00076"></a><a class="code" href="structcontext__t.html#2dea8657137d345b7b856286f5fb97be">00076</a>     <span class="keywordtype">bool</span> dump_mv;
<a name="l00077"></a>00077 
<a name="l00078"></a><a class="code" href="structcontext__t.html#648959627ed5420e09e2e6b9eea8aa36">00078</a>     std::stringstream *runtime_params_str;
<a name="l00079"></a><a class="code" href="structcontext__t.html#a29061db6ab71ac61e049b54b6ef0969">00079</a>     uint32_t next_param_change_frame;
<a name="l00080"></a>00080     <span class="keywordtype">bool</span> got_error;
<a name="l00081"></a>00081 } <a class="code" href="structcontext__t.html">context_t</a>;
<a name="l00082"></a>00082 
<a name="l00083"></a>00083 <span class="keywordtype">int</span> <a class="code" href="video__decode_8h.html#acf063122d19b112b78887af5d2798ab">parse_csv_args</a>(<a class="code" href="structcontext__t.html">context_t</a> * ctx, <span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[]);
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Nov 9 19:52:25 2016 for NVIDIA Tegra Multimedia API Framework by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
