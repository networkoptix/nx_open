<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>NVIDIA Tegra Multimedia API Framework: NvVideoEncoder Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="classes.html"><span>Class&nbsp;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>NvVideoEncoder Class Reference</h1><!-- doxytag: class="NvVideoEncoder" --><!-- doxytag: inherits="NvV4l2Element" -->Helper class for V4L2 Video Encoder.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="NvVideoEncoder_8h-source.html">NvVideoEncoder.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for NvVideoEncoder:</div>
<div class="dynsection">

<p><center><img src="classNvVideoEncoder.png" usemap="#NvVideoEncoder_map" border="0" alt=""></center>
<map name="NvVideoEncoder_map">
<area href="classNvV4l2Element.html" alt="NvV4l2Element" shape="rect" coords="0,56,109,80">
<area href="classNvElement.html" alt="NvElement" shape="rect" coords="0,0,109,24">
</map>
</div>

<p>
<a href="classNvVideoEncoder-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#2eb70b1dbcaa4e671732b638b1b1aebe">~NvVideoEncoder</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#8e2fcbe49982ba8d0f168ba86abdd801">setOutputPlaneFormat</a> (uint32_t pixfmt, uint32_t width, uint32_t height)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the format on the encoder output plane.  <a href="#8e2fcbe49982ba8d0f168ba86abdd801"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#a1ed82c990d8c84a7992d9f77f233fb6">setCapturePlaneFormat</a> (uint32_t pixfmt, uint32_t width, uint32_t height, uint32_t sizeimage)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Sets the format on the encoder capture plane.  <a href="#a1ed82c990d8c84a7992d9f77f233fb6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#7f91b6717d76ca6f640b21047008a36a">setFrameRate</a> (uint32_t framerate_num, uint32_t framerate_den)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the encode framerate.  <a href="#7f91b6717d76ca6f640b21047008a36a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#d858c8c00cd770effd662c7f2492f4ed">setBitrate</a> (uint32_t bitrate)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the encoder bitrate.  <a href="#d858c8c00cd770effd662c7f2492f4ed"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#6600f2f793be13d944968e7b725e908a">setProfile</a> (uint32_t profile)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the encoder profile.  <a href="#6600f2f793be13d944968e7b725e908a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#c03a2c7d13b56373410e8c7609bf8be1">setLevel</a> (enum v4l2_mpeg_video_h264_level level)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the encoder level.  <a href="#c03a2c7d13b56373410e8c7609bf8be1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#259a791c36ae6232c3773ed89e35f131">setRateControlMode</a> (enum v4l2_mpeg_video_bitrate_mode mode)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the encoder rate control mode.  <a href="#259a791c36ae6232c3773ed89e35f131"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#b55082fb6bfa4b7a9a9860017fe0b017">setIFrameInterval</a> (uint32_t interval)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the encoder I-frame interval.  <a href="#b55082fb6bfa4b7a9a9860017fe0b017"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#1bf6415f4ab10b4bc25da704258230e5">setIDRInterval</a> (uint32_t interval)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the encoder IDR interval.  <a href="#1bf6415f4ab10b4bc25da704258230e5"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#3cec043559585354cacee31773b53cbf">forceIDR</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Force an IDR frame.  <a href="#3cec043559585354cacee31773b53cbf"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#5e01da07d24ebf8e82b691d379bed89c">setTemporalTradeoff</a> (<a class="el" href="group__V4L2Enc.html#g9565b5d35798ac76f362a0a7735b7252">v4l2_enc_temporal_tradeoff_level_type</a> level)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the encoder Temporal Tradeoff.  <a href="#5e01da07d24ebf8e82b691d379bed89c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#11185fd55bcf8cdb19e94f72c1daf8e1">setSliceLength</a> (<a class="el" href="group__V4L2Enc.html#gc6492466cd8c7d4fe221b3c964f94012">v4l2_enc_slice_length_type</a> type, uint32_t length)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the encoder output slice length.  <a href="#11185fd55bcf8cdb19e94f72c1daf8e1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#395ee26e60ea41b374774e2cc996ce55">setROIParams</a> (uint32_t buffer_index, <a class="el" href="structv4l2__enc__frame__ROI__params__.html">v4l2_enc_frame_ROI_params</a> &amp;params)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the Region of Interest parameters for the next buffer which will be queued on output plane with index <em>buffer_index</em>.  <a href="#395ee26e60ea41b374774e2cc996ce55"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#0859686bc62510acc3b4418afedfdaf6">setVirtualBufferSize</a> (uint32_t size)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the virtual buffer size of the encoder.  <a href="#0859686bc62510acc3b4418afedfdaf6"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#980a884bf5bc8a8904fd9ae7421395a7">setNumReferenceFrames</a> (uint32_t num_frames)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the number of reference frames of the encoder.  <a href="#980a884bf5bc8a8904fd9ae7421395a7"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#452b673a17053ac6d2e734e0821f7a26">setSliceIntrarefresh</a> (uint32_t interval)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set slice intrareferesh interval params.  <a href="#452b673a17053ac6d2e734e0821f7a26"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#627a6d299d913c10aa56720d4b690b32">setNumBFrames</a> (uint32_t num)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set the number of B frames two P frames.  <a href="#627a6d299d913c10aa56720d4b690b32"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#e97f692a7336d58d3494b590aed99d9c">setInsertSpsPpsAtIdrEnabled</a> (bool enabled)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enabled/disable insert SPS PPS at every IDR.  <a href="#e97f692a7336d58d3494b590aed99d9c"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#a9a91bace968162739e5377b5001176a">enableMotionVectorReporting</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Enable video encoder output motion vector metadata reporting.  <a href="#a9a91bace968162739e5377b5001176a"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#5f06109e426f801f7e7e640d3adf04b8">getMetadata</a> (uint32_t buffer_index, <a class="el" href="structv4l2__ctrl__videoenc__outputbuf__metadata__.html">v4l2_ctrl_videoenc_outputbuf_metadata</a> &amp;enc_metadata)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get metadata for encoded capture plane buffer.  <a href="#5f06109e426f801f7e7e640d3adf04b8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#32f5b312be95a17342ff07da7c9c4f8b">getMotionVectors</a> (uint32_t buffer_index, <a class="el" href="structv4l2__ctrl__videoenc__outputbuf__metadata__MV__.html">v4l2_ctrl_videoenc_outputbuf_metadata_MV</a> &amp;enc_mv_metadata)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get motion vector metadata for encoded capture plane buffer.  <a href="#32f5b312be95a17342ff07da7c9c4f8b"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#497590f20719412b5f1652af597efc87">setQpRange</a> (uint32_t MinQpI, uint32_t MaxQpI, uint32_t MinQpP, uint32_t MaxQpP, uint32_t MinQpB, uint32_t MaxQpB)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Set QP values for I/P/B frames.  <a href="#497590f20719412b5f1652af597efc87"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static <a class="el" href="classNvVideoEncoder.html">NvVideoEncoder</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#e5f6af9c1355047d5f79de0467618dab">createVideoEncoder</a> (const char *name, int flags=0)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create a new V4L2 Video Encoder named <em>name</em>.  <a href="#e5f6af9c1355047d5f79de0467618dab"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#84b725d7d38cbb29bbde5d383349bef8">NvVideoEncoder</a> (const char *name, int flags)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Contructor used by <a class="el" href="classNvVideoEncoder.html#e5f6af9c1355047d5f79de0467618dab" title="Create a new V4L2 Video Encoder named name.">createVideoEncoder</a>.  <a href="#84b725d7d38cbb29bbde5d383349bef8"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static const <br class="typebreak">
<a class="el" href="classNvElementProfiler.html#5c0d7f71a1b3eec50dffb5b7f6cb5b4e">NvElementProfiler::ProfilerField</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classNvVideoEncoder.html#d612536963bc53c7e8078537025d66fe">valid_fields</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Helper class for V4L2 Video Encoder. 
<p>
The video encoder device node is <b>"/dev/nvhost-msenc"</b>. The category name for encoder is <b>"NVENC"</b>.<p>
Refer to <a class="el" href="group__V4L2Enc.html">V4L2 Video Encoder</a> for more information on the converter. 
<p>Definition at line <a class="el" href="NvVideoEncoder_8h-source.html#l00049">49</a> of file <a class="el" href="NvVideoEncoder_8h-source.html">NvVideoEncoder.h</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="2eb70b1dbcaa4e671732b638b1b1aebe"></a><!-- doxytag: member="NvVideoEncoder::~NvVideoEncoder" ref="2eb70b1dbcaa4e671732b638b1b1aebe" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NvVideoEncoder::~NvVideoEncoder           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00090">90</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="84b725d7d38cbb29bbde5d383349bef8"></a><!-- doxytag: member="NvVideoEncoder::NvVideoEncoder" ref="84b725d7d38cbb29bbde5d383349bef8" args="(const char *name, int flags)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">NvVideoEncoder::NvVideoEncoder           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Contructor used by <a class="el" href="classNvVideoEncoder.html#e5f6af9c1355047d5f79de0467618dab" title="Create a new V4L2 Video Encoder named name.">createVideoEncoder</a>. 
<p>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00073">73</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="e5f6af9c1355047d5f79de0467618dab"></a><!-- doxytag: member="NvVideoEncoder::createVideoEncoder" ref="e5f6af9c1355047d5f79de0467618dab" args="(const char *name, int flags=0)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classNvVideoEncoder.html">NvVideoEncoder</a> * NvVideoEncoder::createVideoEncoder           </td>
          <td>(</td>
          <td class="paramtype">const char *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>flags</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a new V4L2 Video Encoder named <em>name</em>. 
<p>
This function internally calls v4l2_open on the encoder dev node <b>"/dev/nvhost-msenc"</b> and checks for <b>V4L2_CAP_VIDEO_M2M_MPLANE</b> capability on the device. This method allows the caller to specify additional flags with which the device should be opened.<p>
The device is opened in blocking mode which can be modified by passing the <em>O_NONBLOCK</em> flag to this method.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Reference to the newly created encoder object else NULL in case of failure during initialization. </dd></dl>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00079">79</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="a9a91bace968162739e5377b5001176a"></a><!-- doxytag: member="NvVideoEncoder::enableMotionVectorReporting" ref="a9a91bace968162739e5377b5001176a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NvVideoEncoder::enableMotionVectorReporting           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Enable video encoder output motion vector metadata reporting. 
<p>
Calls the VIDIOC_S_EXT_CTRLS ioctl internally with Control id <a class="el" href="group__V4L2Enc.html#g43bc3259a39a7c4cc778eacecab52db6" title="Control ID to get encoder output motion vector metadata.">V4L2_CID_MPEG_VIDEOENC_METADATA_MV</a>. Must be called after setFormat on both the planes and before requestBuffers on any of the planes.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 for success, -1 for failure </dd></dl>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00534">534</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="3cec043559585354cacee31773b53cbf"></a><!-- doxytag: member="NvVideoEncoder::forceIDR" ref="3cec043559585354cacee31773b53cbf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NvVideoEncoder::forceIDR           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Force an IDR frame. 
<p>
Calls the VIDIOC_S_EXT_CTRLS ioctl internally with Control id V4L2_CID_MPEG_MFC51_VIDEO_FORCE_FRAME_TYPE. Must be called after setFormat on both the planes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>interval</em>&nbsp;</td><td>Interval between two IDR frames, in number of frames</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 for success, -1 for failure </dd></dl>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00323">323</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="5f06109e426f801f7e7e640d3adf04b8"></a><!-- doxytag: member="NvVideoEncoder::getMetadata" ref="5f06109e426f801f7e7e640d3adf04b8" args="(uint32_t buffer_index, v4l2_ctrl_videoenc_outputbuf_metadata &amp;enc_metadata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NvVideoEncoder::getMetadata           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>buffer_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structv4l2__ctrl__videoenc__outputbuf__metadata__.html">v4l2_ctrl_videoenc_outputbuf_metadata</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>enc_metadata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get metadata for encoded capture plane buffer. 
<p>
Calls the VIDIOC_S_EXT_CTRLS ioctl internally with Control id <a class="el" href="group__V4L2Enc.html#g1b795da1ba9a2f9aed032f93363f1c7e" title="Control ID to get encoder output metadata.">V4L2_CID_MPEG_VIDEOENC_METADATA</a>. Must be called for a buffer which has been dequeued from the capture plane. The returned metadata corresponds to the last dequeued buffer with index <em>buffer_index</em>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buffer_index</em>&nbsp;</td><td>Index of the capture plane buffer whose metadata is required </td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>Reference</em>&nbsp;</td><td>to the metadata structure v4l2_ctrl_videoenc_outputbuf_metadata to be filled</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 for success, -1 for failure </dd></dl>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00557">557</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="32f5b312be95a17342ff07da7c9c4f8b"></a><!-- doxytag: member="NvVideoEncoder::getMotionVectors" ref="32f5b312be95a17342ff07da7c9c4f8b" args="(uint32_t buffer_index, v4l2_ctrl_videoenc_outputbuf_metadata_MV &amp;enc_mv_metadata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NvVideoEncoder::getMotionVectors           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>buffer_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structv4l2__ctrl__videoenc__outputbuf__metadata__MV__.html">v4l2_ctrl_videoenc_outputbuf_metadata_MV</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>enc_mv_metadata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get motion vector metadata for encoded capture plane buffer. 
<p>
Calls the VIDIOC_S_EXT_CTRLS ioctl internally with Control id <a class="el" href="group__V4L2Enc.html#g43bc3259a39a7c4cc778eacecab52db6" title="Control ID to get encoder output motion vector metadata.">V4L2_CID_MPEG_VIDEOENC_METADATA_MV</a>. Must be called for a buffer which has been dequeued from the capture plane. The returned metadata corresponds to the last dequeued buffer with index <em>buffer_index</em>.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buffer_index</em>&nbsp;</td><td>Index of the capture plane buffer whose metadata is required </td></tr>
    <tr><td valign="top"><tt>[in,out]</tt>&nbsp;</td><td valign="top"><em>Reference</em>&nbsp;</td><td>to the metadata structure v4l2_ctrl_videoenc_outputbuf_metadata_MV to be filled</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 for success, -1 for failure </dd></dl>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00581">581</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="d858c8c00cd770effd662c7f2492f4ed"></a><!-- doxytag: member="NvVideoEncoder::setBitrate" ref="d858c8c00cd770effd662c7f2492f4ed" args="(uint32_t bitrate)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NvVideoEncoder::setBitrate           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>bitrate</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the encoder bitrate. 
<p>
Calls the VIDIOC_S_EXT_CTRLS ioctl internally with Control id V4L2_CID_MPEG_VIDEO_BITRATE. Can be called anytime after setFormat on both the planes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>bitrate</em>&nbsp;</td><td>Bitrate of the encoded stream, in bits per second</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 for success, -1 for failure </dd></dl>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00167">167</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="a1ed82c990d8c84a7992d9f77f233fb6"></a><!-- doxytag: member="NvVideoEncoder::setCapturePlaneFormat" ref="a1ed82c990d8c84a7992d9f77f233fb6" args="(uint32_t pixfmt, uint32_t width, uint32_t height, uint32_t sizeimage)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NvVideoEncoder::setCapturePlaneFormat           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>pixfmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>sizeimage</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the format on the encoder capture plane. 
<p>
Calls VIDIOC_S_FMT ioctl internally on the capture plane.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pixfmt</em>&nbsp;</td><td>One of the coded V4L2 pixel formats </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>width</em>&nbsp;</td><td>Width of the input buffers in pixels </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>height</em>&nbsp;</td><td>Height of the input buffers in pixels </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>sizeimage</em>&nbsp;</td><td>Maximum size of the encoded buffers on the capture plane in bytes </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 for success, -1 for failure </dd></dl>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00124">124</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="7f91b6717d76ca6f640b21047008a36a"></a><!-- doxytag: member="NvVideoEncoder::setFrameRate" ref="7f91b6717d76ca6f640b21047008a36a" args="(uint32_t framerate_num, uint32_t framerate_den)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NvVideoEncoder::setFrameRate           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>framerate_num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>framerate_den</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the encode framerate. 
<p>
Calls the VIDIOC_S_PARM ioctl on the encoder capture plane. Can b called anytime after setFormat on both the planes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>framerate_num</em>&nbsp;</td><td>Numerator part of the framerate fraction </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>framerate_den</em>&nbsp;</td><td>Denominator part of the framerate fraction</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 for success, -1 for failure </dd></dl>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00152">152</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="1bf6415f4ab10b4bc25da704258230e5"></a><!-- doxytag: member="NvVideoEncoder::setIDRInterval" ref="1bf6415f4ab10b4bc25da704258230e5" args="(uint32_t interval)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NvVideoEncoder::setIDRInterval           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>interval</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the encoder IDR interval. 
<p>
Calls the VIDIOC_S_EXT_CTRLS ioctl internally with Control id <a class="el" href="v4l2__nv__extensions_8h.html#d2435ba3bc7085bfe52efab05e05c981" title="Control ID to set the encoder IDR frame interval.">V4L2_CID_MPEG_VIDEO_IDR_INTERVAL</a>. Must be called after setFormat on both the planes and before requestBuffers on any of the planes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>interval</em>&nbsp;</td><td>Interval between two IDR frames, in number of frames</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 for success, -1 for failure </dd></dl>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00300">300</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="b55082fb6bfa4b7a9a9860017fe0b017"></a><!-- doxytag: member="NvVideoEncoder::setIFrameInterval" ref="b55082fb6bfa4b7a9a9860017fe0b017" args="(uint32_t interval)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NvVideoEncoder::setIFrameInterval           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>interval</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the encoder I-frame interval. 
<p>
Calls the VIDIOC_S_EXT_CTRLS ioctl internally with Control id V4L2_CID_MPEG_VIDEO_GOP_SIZE. Must be called after setFormat on both the planes and before requestBuffers on any of the planes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>interval</em>&nbsp;</td><td>Interval between two I frames, in number of frames</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 for success, -1 for failure </dd></dl>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00277">277</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="e97f692a7336d58d3494b590aed99d9c"></a><!-- doxytag: member="NvVideoEncoder::setInsertSpsPpsAtIdrEnabled" ref="e97f692a7336d58d3494b590aed99d9c" args="(bool enabled)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NvVideoEncoder::setInsertSpsPpsAtIdrEnabled           </td>
          <td>(</td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>enabled</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Enabled/disable insert SPS PPS at every IDR. 
<p>
Calls the VIDIOC_S_EXT_CTRLS ioctl internally with Control id <a class="el" href="group__V4L2Enc.html#g8498d6532a37c8f0553df78d2952ed31" title="Control ID to enable/disable inserting SPS and PPS explicitly at IDR interval.">V4L2_CID_MPEG_VIDEOENC_INSERT_SPS_PPS_AT_IDR</a>. Must be called after setFormat on both the planes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>enabled</em>&nbsp;</td><td>Boolean value indicating wether to enable/disable the control. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 for success, -1 for failure </dd></dl>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00511">511</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="c03a2c7d13b56373410e8c7609bf8be1"></a><!-- doxytag: member="NvVideoEncoder::setLevel" ref="c03a2c7d13b56373410e8c7609bf8be1" args="(enum v4l2_mpeg_video_h264_level level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NvVideoEncoder::setLevel           </td>
          <td>(</td>
          <td class="paramtype">enum v4l2_mpeg_video_h264_level&nbsp;</td>
          <td class="paramname"> <em>level</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the encoder level. 
<p>
Calls the VIDIOC_S_EXT_CTRLS ioctl internally with Control id V4L2_CID_MPEG_VIDEO_H264_LEVEL. Must be called after setFormat on both the planes and before requestBuffers on any of the planes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>level</em>&nbsp;</td><td>Level to be used for encoding, one of enum v4l2_mpeg_video_h264_level</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 for success, -1 for failure </dd></dl>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00225">225</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="627a6d299d913c10aa56720d4b690b32"></a><!-- doxytag: member="NvVideoEncoder::setNumBFrames" ref="627a6d299d913c10aa56720d4b690b32" args="(uint32_t num)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NvVideoEncoder::setNumBFrames           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>num</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the number of B frames two P frames. 
<p>
Calls the VIDIOC_S_EXT_CTRLS ioctl internally with Control id <a class="el" href="group__V4L2Enc.html#g1f78b5427edc57977bedfe4d631c7d62" title="Control ID to set number of B frames to be encoded between two P frames.">V4L2_CID_MPEG_VIDEOENC_NUM_BFRAMES</a>. Must be called after setFormat on both the planes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>num</em>&nbsp;</td><td>Number of B frames. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 for success, -1 for failure </dd></dl>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00488">488</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="980a884bf5bc8a8904fd9ae7421395a7"></a><!-- doxytag: member="NvVideoEncoder::setNumReferenceFrames" ref="980a884bf5bc8a8904fd9ae7421395a7" args="(uint32_t num_frames)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NvVideoEncoder::setNumReferenceFrames           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>num_frames</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the number of reference frames of the encoder. 
<p>
Calls the VIDIOC_S_EXT_CTRLS ioctl internally with Control id <a class="el" href="group__V4L2Enc.html#gbbcdbdedca4697899c379aead33971a6" title="Control ID to specify maximum number of reference frames that can be used.">V4L2_CID_MPEG_VIDEOENC_NUM_REFERENCE_FRAMES</a>. Must be called after setFormat on both the planes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>num_frames</em>&nbsp;</td><td>Number of reference frames. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 for success, -1 for failure </dd></dl>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00440">440</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="8e2fcbe49982ba8d0f168ba86abdd801"></a><!-- doxytag: member="NvVideoEncoder::setOutputPlaneFormat" ref="8e2fcbe49982ba8d0f168ba86abdd801" args="(uint32_t pixfmt, uint32_t width, uint32_t height)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NvVideoEncoder::setOutputPlaneFormat           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>pixfmt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>height</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Sets the format on the encoder output plane. 
<p>
Calls VIDIOC_S_FMT ioctl internally on the output plane.<p>
<dl class="pre" compact><dt><b>Precondition:</b></dt><dd>Capture plane format (<a class="el" href="classNvVideoEncoder.html#a1ed82c990d8c84a7992d9f77f233fb6" title="Sets the format on the encoder capture plane.">setCapturePlaneFormat</a>) must be set before calling this.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>pixfmt</em>&nbsp;</td><td>One of the raw V4L2 pixel formats </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>width</em>&nbsp;</td><td>Width of the input buffers in pixels </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>height</em>&nbsp;</td><td>Height of the input buffers in pixels </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 for success, -1 for failure </dd></dl>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00095">95</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="6600f2f793be13d944968e7b725e908a"></a><!-- doxytag: member="NvVideoEncoder::setProfile" ref="6600f2f793be13d944968e7b725e908a" args="(uint32_t profile)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NvVideoEncoder::setProfile           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>profile</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the encoder profile. 
<p>
Calls the VIDIOC_S_EXT_CTRLS ioctl internally with Control id V4L2_CID_MPEG_VIDEO_H264_PROFILE or V4L2_CID_MPEG_VIDEO_H265_PROFILE depending on the encoder type. Must be called after setFormat on both the planes and before requestBuffers on any of the planes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>profile</em>&nbsp;</td><td>Profile to be used for encoding</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 for success, -1 for failure </dd></dl>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00191">191</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="497590f20719412b5f1652af597efc87"></a><!-- doxytag: member="NvVideoEncoder::setQpRange" ref="497590f20719412b5f1652af597efc87" args="(uint32_t MinQpI, uint32_t MaxQpI, uint32_t MinQpP, uint32_t MaxQpP, uint32_t MinQpB, uint32_t MaxQpB)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NvVideoEncoder::setQpRange           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>MinQpI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>MaxQpI</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>MinQpP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>MaxQpP</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>MinQpB</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>MaxQpB</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set QP values for I/P/B frames. 
<p>
Calls the VIDIOC_S_EXT_CTRLS ioctl internally with Control id <a class="el" href="group__V4L2Enc.html#ge0dd891228ad0677e3ec6d6856be2d5b" title="Control ID to set QP range for I/P/B frames.">V4L2_CID_MPEG_VIDEOENC_QP_RANGE</a>. Must be called after setFormat on both the planes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>MinQpI</em>&nbsp;</td><td>Minimum Qp Value for I frame </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>MaxQpI</em>&nbsp;</td><td>Minimum Qp Value for I frame </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>MinQpP</em>&nbsp;</td><td>Minimum Qp Value for P frame </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>MaxQpP</em>&nbsp;</td><td>Minimum Qp Value for P frame </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>MinQpB</em>&nbsp;</td><td>Minimum Qp Value for B frame </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>MaxQpB</em>&nbsp;</td><td>Minimum Qp Value for B frame </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 for success, -1 for failure </dd></dl>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00605">605</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="259a791c36ae6232c3773ed89e35f131"></a><!-- doxytag: member="NvVideoEncoder::setRateControlMode" ref="259a791c36ae6232c3773ed89e35f131" args="(enum v4l2_mpeg_video_bitrate_mode mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NvVideoEncoder::setRateControlMode           </td>
          <td>(</td>
          <td class="paramtype">enum v4l2_mpeg_video_bitrate_mode&nbsp;</td>
          <td class="paramname"> <em>mode</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the encoder rate control mode. 
<p>
Calls the VIDIOC_S_EXT_CTRLS ioctl internally with Control id V4L2_CID_MPEG_VIDEO_BITRATE_MODE. Must be called after setFormat on both the planes and before requestBuffers on any of the planes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>mode</em>&nbsp;</td><td>Type of rate control, one of enum v4l2_mpeg_video_bitrate_mode</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 for success, -1 for failure </dd></dl>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00254">254</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="395ee26e60ea41b374774e2cc996ce55"></a><!-- doxytag: member="NvVideoEncoder::setROIParams" ref="395ee26e60ea41b374774e2cc996ce55" args="(uint32_t buffer_index, v4l2_enc_frame_ROI_params &amp;params)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NvVideoEncoder::setROIParams           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>buffer_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structv4l2__enc__frame__ROI__params__.html">v4l2_enc_frame_ROI_params</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>params</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the Region of Interest parameters for the next buffer which will be queued on output plane with index <em>buffer_index</em>. 
<p>
Calls the VIDIOC_S_EXT_CTRLS ioctl internally with Control id <a class="el" href="group__V4L2Enc.html#ge62c0b3c8254ba74481d426c9800ca68" title="Control ID to configure encoder to encode particular region of frame in high quality...">V4L2_CID_MPEG_VIDEOENC_ROI_PARAMS</a>. Must be called after requesting buffer on both the planes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>buffer_index</em>&nbsp;</td><td>Index of output plane buffer on which the ROI params should be applied. </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>params</em>&nbsp;</td><td>Parameters to be applied on the frame, structure of type <a class="el" href="group__V4L2Enc.html#g877c8a639c93b84e414f9ca0111d5e5e" title="Holds the encoder frame ROI parameters.">v4l2_enc_frame_ROI_params</a> </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 for success, -1 for failure </dd></dl>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00392">392</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="452b673a17053ac6d2e734e0821f7a26"></a><!-- doxytag: member="NvVideoEncoder::setSliceIntrarefresh" ref="452b673a17053ac6d2e734e0821f7a26" args="(uint32_t interval)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NvVideoEncoder::setSliceIntrarefresh           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>interval</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set slice intrareferesh interval params. 
<p>
Calls the VIDIOC_S_EXT_CTRLS ioctl internally with Control id <a class="el" href="group__V4L2Enc.html#g35c2fc8a909630bc540747797bea0828" title="Control ID to specify the encoder slice intra refresh interval.">V4L2_CID_MPEG_VIDEOENC_SLICE_INTRAREFRESH_PARAM</a>. Must be called after setFormat on both the planes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>interval</em>&nbsp;</td><td>Slice intrarefresh interval, in number of slices. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 for success, -1 for failure </dd></dl>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00464">464</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="11185fd55bcf8cdb19e94f72c1daf8e1"></a><!-- doxytag: member="NvVideoEncoder::setSliceLength" ref="11185fd55bcf8cdb19e94f72c1daf8e1" args="(v4l2_enc_slice_length_type type, uint32_t length)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NvVideoEncoder::setSliceLength           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__V4L2Enc.html#gc6492466cd8c7d4fe221b3c964f94012">v4l2_enc_slice_length_type</a>&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>length</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the encoder output slice length. 
<p>
Calls the VIDIOC_S_EXT_CTRLS ioctl internally with Control id <a class="el" href="group__V4L2Enc.html#ge562a00fb6108c9335a9041d89e82c89" title="Control ID to configure encoder slice length either in terms of MBs or bits.">V4L2_CID_MPEG_VIDEOENC_SLICE_LENGTH_PARAM</a>. Must be called after setFormat on both the planes and before requestBuffers on any of the planes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>type</em>&nbsp;</td><td>Slice length type, one of enum v4l2_enc_slice_length_type </td></tr>
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>length</em>&nbsp;</td><td>Length of the slice in bytes if type is V4L2_ENC_SLICE_LENGTH_TYPE_BITS, else in number of MBs if type is V4L2_ENC_SLICE_LENGTH_TYPE_MBLK </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 for success, -1 for failure </dd></dl>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00367">367</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="5e01da07d24ebf8e82b691d379bed89c"></a><!-- doxytag: member="NvVideoEncoder::setTemporalTradeoff" ref="5e01da07d24ebf8e82b691d379bed89c" args="(v4l2_enc_temporal_tradeoff_level_type level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NvVideoEncoder::setTemporalTradeoff           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__V4L2Enc.html#g9565b5d35798ac76f362a0a7735b7252">v4l2_enc_temporal_tradeoff_level_type</a>&nbsp;</td>
          <td class="paramname"> <em>level</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the encoder Temporal Tradeoff. 
<p>
Calls the VIDIOC_S_EXT_CTRLS ioctl internally with Control id <a class="el" href="group__V4L2Enc.html#g254fd0ec8dfaeef3ffdf2369f0b23f1c" title="Control ID to configure encoder to drop frames while encoding.">V4L2_CID_MPEG_VIDEOENC_TEMPORAL_TRADEOFF_LEVEL</a>. Must be called after setFormat on both the planes and before requestBuffers on any of the planes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>level</em>&nbsp;</td><td>Temporal tradeoff level, one of v4l2_enc_temporal_tradeoff_level_type </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 for success, -1 for failure </dd></dl>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00344">344</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<a class="anchor" name="0859686bc62510acc3b4418afedfdaf6"></a><!-- doxytag: member="NvVideoEncoder::setVirtualBufferSize" ref="0859686bc62510acc3b4418afedfdaf6" args="(uint32_t size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int NvVideoEncoder::setVirtualBufferSize           </td>
          <td>(</td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>size</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the virtual buffer size of the encoder. 
<p>
Calls the VIDIOC_S_EXT_CTRLS ioctl internally with Control id <a class="el" href="group__V4L2Enc.html#g1d4f7019888098bf4853f24b40c4642b" title="Control ID to specify virtual buffer size in bits for encoder.">V4L2_CID_MPEG_VIDEOENC_VIRTUALBUFFER_SIZE</a>. Must be called after setFormat on both the planes.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[in]</tt>&nbsp;</td><td valign="top"><em>size</em>&nbsp;</td><td>Virtual buffer size, in bytes. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 for success, -1 for failure </dd></dl>

<p>Definition at line <a class="el" href="NvVideoEncoder_8cpp-source.html#l00417">417</a> of file <a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a>.</p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="d612536963bc53c7e8078537025d66fe"></a><!-- doxytag: member="NvVideoEncoder::valid_fields" ref="d612536963bc53c7e8078537025d66fe" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classNvElementProfiler.html#5c0d7f71a1b3eec50dffb5b7f6cb5b4e">NvElementProfiler::ProfilerField</a> <a class="el" href="classNvVideoEncoder.html#d612536963bc53c7e8078537025d66fe">NvVideoEncoder::valid_fields</a><code> [static, private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<b>Initial value:</b><div class="fragment"><pre class="fragment">
            <a class="code" href="classNvElementProfiler.html#e312dfb5aeb5ac0a14034ea9f02d697b">NvElementProfiler::PROFILER_FIELD_TOTAL_UNITS</a> |
            <a class="code" href="classNvElementProfiler.html#25004ba6df30aa94d25a342c8d9948a5">NvElementProfiler::PROFILER_FIELD_LATENCIES</a> |
            <a class="code" href="classNvElementProfiler.html#b7feb18cd35a32c2a49bb047d5353f0c">NvElementProfiler::PROFILER_FIELD_FPS</a>
</pre></div>
<p>Definition at line <a class="el" href="NvVideoEncoder_8h-source.html#l00383">383</a> of file <a class="el" href="NvVideoEncoder_8h-source.html">NvVideoEncoder.h</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="NvVideoEncoder_8h-source.html">NvVideoEncoder.h</a><li>samples/common/classes/<a class="el" href="NvVideoEncoder_8cpp-source.html">NvVideoEncoder.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Nov 9 19:52:25 2016 for NVIDIA Tegra Multimedia API Framework by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
