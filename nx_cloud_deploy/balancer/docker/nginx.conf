error_log /dev/stdout notice;
worker_processes 30;

# user nobody nogroup;
pid /tmp/nginx.pid;

events {
    worker_connections 20000;
    accept_mutex off;
}

http {
    server_names_hash_bucket_size 128;
    proxy_headers_hash_bucket_size 128;

    include mime.types;
    default_type application/octet-stream;
    access_log /dev/stdout combined;
    sendfile on;

    # don't send the nginx version number in error pages and Server header
    server_tokens off;

    root /usr/share/nginx/html;

    proxy_redirect off;

    client_max_body_size 4G;
    keepalive_timeout 65;

    proxy_connect_timeout 300s;
    proxy_read_timeout 300s;
    proxy_send_timeout 300s;
    send_timeout 300s;

    include /etc/nginx/conf.d/*.conf;
}
