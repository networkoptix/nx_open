{
    "systems": {
        "name": "System",
        "values": {
            "info": {
                "values": {
                    "name": {
                        "name": "Name",
                        "display": "panel"
                    },
                    "recommendedMaxServers": {
                        "calculate": "const 100"
                    },
                    "servers": {
                        "display": "panel",
                        "alarms": [
                            {
                                "level": "warning",
                                "condition": "greaterOrEqual %servers %recommendedMaxServers",
                                "text": "The maximum number of %recommendedMaxServers servers per system is reached. Create another system to use more servers."
                            }
                        ]
                    },
                    "recommendedMaxCameras": {
                        "calculate": "const 10000"
                    },
                    "cameras": {
                        "name": "Camera channels",
                        "display": "panel",
                        "alarms": [
                            {
                                "level": "warning",
                                "condition": "greaterOrEqual %cameras %recommendedMaxCameras",
                                "text": "The maximum number of %recommendedMaxCameras camera channels per system is reached. Create another system to use more cameras."
                            }
                        ]
                    },
                    "storages": {
                        "name": "Storage locations",
                        "display": "panel"
                    },
                    "users": {
                        "display": "panel"
                    },
                    "version": {
                        "name": "System version",
                        "display": "panel"
                    }
                }
            }
        }
    },
    "servers": {
        "resource": "Server",
        "values": {
            "_": {
                "values": {
                    "name": {
                        "display": "table|panel"
                    }
                }
            },
            "info": {
                "values": {
                    "publicIp": {
                        "name": "Public IP",
                        "display": "table|panel"
                    },
                    "os": {
                        "name": "OS",
                        "display": "panel"
                    },
                    "osTime": {
                        "name": "OS Time",
                        "display": "table|panel"
                    },
                    "vmsTime": {
                        "name": "VMS Time",
                        "display": "panel"
                    },
                    "vmsTimeChanged24h": {
                        "name": "Events: Time Changed (24h)",
                        "description": "Events count: Time Changed (24h)",
                        "display": "table|panel",
                        "calculate": "counterDelta %vmsTimeChanged 24h",
                        "insert": "timeChanged",
                        "alarms": [
                            {
                                "level": "warning",
                                "condition": "greaterThan %vmsTimeChanged24h 5",
                                "text": "time was synchronized %vmsTimeChanged24h times in the last 24 hours. Check hardware."
                            }
                        ]
                    },
                    "cpu": {
                        "name": "CPU",
                        "description": "CPU Name",
                        "display": "panel"
                    },
                    "cpuCores": {
                        "name": "Cores",
                        "display": "panel"
                    },
                    "ram": {
                        "name": "RAM",
                        "format": "GB",
                        "display": "panel"
                    }
                }
            },
            "availability": {
                "values": {
                    "status": {
                        "display": "table|panel",
                        "alarms": [
                            {
                                "level": "error",
                                "condition": "notEqual %status Online",
                                "text": "is %status"
                            }
                        ]
                    },
                    "offlineEvents": {
                        "name": "Events: Server Offline (24h)",
                        "description": "Events count: Server Offline (24h)",
                        "display": "table|panel",
                        "calculate": "countValues %status 24h Offline",
                        "insert": "uptimeS",
                        "alarms": [
                            {
                                "level": "warning",
                                "condition": "greaterThan %offlineEvents 1",
                                "text": "went Offline %offlineEvents times in the last 24 hours"
                            }
                        ]
                    },
                    "uptimeS": {
                        "name": "Uptime",
                        "format": "duration",
                        "display": "table|panel"
                    }
                }
            },
            "load": {
                "values": {
                    "logLevel": {
                        "name": "Logging level",
                        "display": "panel",
                        "alarms": [
                            {
                                "level": "warning",
                                "condition": "equal %logLevel debug",
                                "text": "Current logging level is %logLevel. Recommended logging level is info."
                            },
                            {
                                "level": "warning",
                                "condition": "equal %logLevel verbose",
                                "text": "Current logging level is %logLevel. Recommended logging level is info."
                            }
                        ]
                    },
                    "cpuUsageP": {
                        "name": "CPU %",
                        "description": "Total CPU Usage (%)",
                        "format": "%",
                        "display": "table|panel",
                        "alarms": [
                            {
                                "level": "warning",
                                "condition": "greaterThan %cpuUsageP 0.9",
                                "text": "Total CPU Usage is %cpuUsageP. VMS is using %serverCpuUsageP."
                            }
                        ]
                    },
                    "serverCpuUsageP": {
                        "name": "CPU (VMS Server) %",
                        "description": "CPU used by VMS Server (%)",
                        "format": "%",
                        "display": "table|panel"
                    },
                    "ramUsageB": {
                        "name": "RAM Usage",
                        "description": "Total RAM Usage",
                        "format": "GB",
                        "display": "panel"
                    },
                    "ramUsageP": {
                        "name": "RAM %",
                        "description": "Total RAM Usage (%)",
                        "format": "%",
                        "display": "table|panel",
                        "alarms": [
                            {
                                "level": "warning",
                                "condition": "greaterThan %ramUsageP 0.8",
                                "text": "Total RAM usage is %ramUsageP. VMS is using %serverRamUsageP."
                            }
                        ]
                    },
                    "serverRamUsage": {
                        "name": "RAM (VMS Server)",
                        "description": "RAM used by VMS Server",
                        "format": "GB",
                        "display": "panel"
                    },
                    "serverRamUsageP": {
                        "name": "RAM (VMS Server) %",
                        "description": "RAM used by VMS Server (%)",
                        "format": "%",
                        "display": "table|panel"
                    },
                    "incomingConnections": {
                        "name": "Incoming connections",
                        "display": "panel"
                    },
                    "outgoingConnections": {
                        "name": "Outgoing connections",
                        "display": "panel"
                    },
                    "threads": {
                        "name": "Server threads",
                        "display": "panel"
                    },
                    "encodingThreads": {
                        "name": "Encoding threads",
                        "display": "panel",
                        "alarms": [
                            {
                                "level": "warning",
                                "condition": "greaterThan %encodingThreads 2",
                                "text": "has %encodingThreads currently running encoding threads. Recommended number of encoding threads: 2. Limit encoding threads number using maxWebMTranscoders setting in Web Admin advanced settings page."
                            }
                        ]
                    },
                    "decodingThreads": {
                        "name": "Decoding threads",
                        "display": "panel"
                    },
                    "cameras": {
                        "name": "Camera channels",
                        "display": "panel"
                    },
                    "decodingSpeed3s": {
                        "name": "Decoding speed",
                        "display": "panel",
                        "format": "MPix/s",
                        "calculate": "counterToAvg %decodedPixels 3s",
                        "insert": "decodedPixels"
                    },
                    "encodingSpeed3s": {
                        "name": "Encoding speed",
                        "display": "panel",
                        "format": "MPix/s",
                        "calculate": "counterToAvg %encodedPixels 3s",
                        "insert": "encodedPixels"
                    },
                    "primaryStreams": {
                        "name": "Primary streams",
                        "display": "panel"
                    },
                    "secondaryStreams": {
                        "name": "Secondary streams",
                        "display": "panel"
                    }
                }
            },
            "activity": {
                "values": {
                    "transactionsPerSecond1m": {
                        "name": "Transactions/s",
                        "description": "Transactions per second",
                        "isOptional": true,
                        "display": "panel",
                        "format": "Tr/s",
                        "calculate": "counterToAvg %transactionsPerSecond 1m",
                        "insert": "transactionsPerSecond"
                    },
                    "actionsTriggered1m": {
                        "name": "Rules Activations/s",
                        "description": "Event Rules activations per second",
                        "display": "panel",
                        "calculate": "counterToAvg %actionsTriggered 1m",
                        "insert": "actionsTriggered"
                    },
                    "apiCalls1m": {
                        "name": "API Calls/s",
                        "description": "REST API calls per second",
                        "display": "panel",
                        "calculate": "counterToAvg %apiCalls 1m",
                        "insert": "apiCalls"
                    },
                    "thumbnails1m": {
                        "name": "Thumbnails/s",
                        "description": "Thumbnails per second",
                        "display": "panel",
                        "calculate": "counterToAvg %thumbnails 1m",
                        "insert": "thumbnails"
                    },
                    "activePlugins": {
                        "name": "Active plugins list",
                        "isOptional": true,
                        "display": "panel"
                    }
                }
            }
        }
    },
    "cameras": {
        "resource": "Camera",
        "values": {
            "_": {
                "values": {
                    "name": {
                        "display": "table|panel"
                    },
                    "thumbnail": {
                        "display": "panel",
                        "format": "thumbnail",
                        "calculate": "const now"
                    }
                }
            },
            "info": {
                "values": {
                    "server": {
                        "display": "table|panel",
                        "format": "resource"
                    },
                    "type": {
                        "display": "table|panel"
                    },
                    "ip": {
                        "name": "IP",
                        "display": "table|panel"
                    },
                    "vendor": {
                        "display": "panel"
                    },
                    "model": {
                        "display": "panel"
                    },
                    "firmware": {
                        "display": "panel"
                    },
                    "recording": {
                        "name": "Recording",
                        "display": "table|panel"
                    }
                }
            },
            "availability": {
                "values": {
                    "status": {
                        "name": "Status",
                        "display": "table|panel",
                        "alarms": [
                            {
                                "level": "error",
                                "condition": "equal %status Unauthorized",
                                "text": "is Unauthorized"
                            },
                            {
                                "level": "error",
                                "condition": "equal %status Offline",
                                "text": "is Offline"
                            },
                            {
                                "level": "error",
                                "condition": "equal %status Server_Offline",
                                "text": "is Unavailable: parent Server is Offline"
                            }
                        ]
                    },
                    "offlineEvents": {
                        "name": "Events: Camera Offline (1h)",
                        "description": "Events count: Camera Offline (1h)",
                        "display": "table|panel",
                        "calculate": "countValues %offlineFromOnlineStatus 1h Offline",
                        "insert": "streamIssues",
                        "alarms": [
                            {
                                "level": "warning",
                                "condition": "greaterThan %offlineEvents 0",
                                "text": "went Offline %offlineEvents times in the last hour"
                            },
                            {
                                "level": "error",
                                "condition": "greaterThan %offlineEvents 5",
                                "text": "went Offline %offlineEvents times in the last hour"
                            }
                        ]
                    },
                    "streamIssues1h": {
                        "name": "Events: Stream Issues (1h)",
                        "description": "Events count: Stream Issues (1h)",
                        "display": "table|panel",
                        "calculate": "counterDelta %streamIssues 1h",
                        "insert": "streamIssues",
                        "alarms": [
                            {
                                "level": "warning",
                                "condition": "greaterThan %streamIssues1h 0",
                                "text": "had %streamIssues1h stream issues in the last hour"
                            },
                            {
                                "level": "error",
                                "condition": "greaterThan %streamIssues1h 5",
                                "text": "had %streamIssues1h Stream Issues in the last hour"
                            }
                        ]
                    },
                    "ipConflicts3min": {
                        "name": "Events: IP Conflicts (3 min)",
                        "description": "Events count: IP Conflicts (3 min)",
                        "display": "panel",
                        "calculate": "counterDelta %ipConflicts 3m",
                        "insert": "ipConflicts",
                        "alarms": [
                            {
                                "level": "error",
                                "condition": "greaterThan %ipConflicts3min 0",
                                "text": "has an IP Conflict"
                            }
                        ]
                    }
                }
            },
            "primaryStream": {
                "name": "Primary Stream",
                "values": {
                    "resolution": {
                        "name": "Resolution",
                        "isOptional": true,
                        "display": "table|panel"
                    },
                    "targetFps": {
                        "name": "Target FPS",
                        "isOptional": true,
                        "display": "panel"
                    },
                    "actualFps": {
                        "name": "Actual FPS",
                        "isOptional": true,
                        "display": "table|panel"
                    },
                    "fpsDelta": {
                        "isOptional": true
                    },
                    "fpsDeltaAverage10m": {
                        "name": "Avg FPS Drop (10 min)",
                        "description": "Average FPS drop (10 min)",
                        "isOptional": true,
                        "display": "table|panel",
                        "calculate": "sampleAvg %fpsDelta 10m",
                        "insert": "fpsDelta",
                        "alarms": [
                            {
                                "level": "warning",
                                "condition": "greaterThan %fpsDeltaAverage10m 5",
                                "text": "dropped by an average of %fpsDeltaAverage10m FPS in the last 10 minutes"
                            },
                            {
                                "level": "error",
                                "condition": "greaterThan %fpsDeltaAverage10m 10",
                                "text": "dropped by an average of %fpsDeltaAverage10m FPS in the last 10 minutes"
                            }
                        ]
                    },
                    "actualBitrateBps": {
                        "name": "Bitrate",
                        "isOptional": true,
                        "display": "panel",
                        "format": "Mbit/s"
                    }
                }
            },
            "secondaryStream": {
                "name": "Secondary Stream",
                "values": {
                    "resolution": {
                        "name": "Resolution",
                        "isOptional": true,
                        "display": "table|panel",
                        "alarms": [
                            {
                                "level": "error",
                                "condition": "resolutionGreaterOrEqualThan %resolution %recommendedMaxSecondaryResolution",
                                "text": " Secondary stream Resolution is too high: %resolution. It's recommended to put Secondary stream Resolution less than %recommendedMaxSecondaryResolution."
                            }
                        ]
                    },
                    "recommendedMaxSecondaryResolution": {
                        "calculate": "const 1280x720"
                    },
                    "targetFps": {
                        "name": "Target FPS",
                        "isOptional": true,
                        "display": "panel"
                    },
                    "actualFps": {
                        "name": "Actual FPS",
                        "isOptional": true,
                        "display": "table|panel"
                    },
                    "fpsDelta": {
                        "isOptional": true
                    },
                    "fpsDeltaAverage10m": {
                        "name": "Avg FPS drop (10 min)",
                        "description": "Average FPS drop (10 min)",
                        "isOptional": true,
                        "display": "table|panel",
                        "calculate": "sampleAvg %fpsDelta 10m",
                        "insert": "fpsDelta"
                    },
                    "actualBitrateBps": {
                        "name": "Bitrate",
                        "isOptional": true,
                        "display": "panel",
                        "format": "Mbit/s"
                    }
                }
            },
            "storage": {
                "name": "Storage Analytics",
                "values": {
                    "archiveLengthS": {
                        "name": "Archive",
                        "description": "Current Archive length",
                        "isOptional": true,
                        "display": "table|panel",
                        "format": "durationDh",
                        "alarms": [
                            {
                                "level": "error",
                                "condition": "and %isArchiveTooSmall %hasArchiveRotated",
                                "text": "current Archive retention is %archiveLengthS. Minimum Archive length was set to %minArchiveLengthS."
                            }
                        ]
                    },
                    "recordingBitrateBps": {
                        "name": "Recording Bitrate (5min)",
                        "isOptional": true,
                        "display": "table|panel",
                        "format": "Mbit/s"
                    },
                    "isArchiveTooSmall": {
                        "isOptional": true,
                        "calculate": "greaterThan %minArchiveLengthS %archiveLengthS"
                    },
                    "minArchiveLengthS": {
                        "name": "Min Archive length",
                        "description": "Minimum Archive length",
                        "isOptional": true,
                        "display": "panel",
                        "format": "durationDh"
                    }
                }
            }
        }
    },
    "storages": {
        "name": "Storage Locations",
        "resource": "Storage",
        "values": {
            "_": {
                "values": {
                    "name": {
                        "display": "table|panel"
                    }
                }
            },
            "info": {
                "values": {
                    "server": {
                        "display": "table|panel",
                        "format": "resource"
                    },
                    "pool": {
                        "display": "table|panel"
                    },
                    "type": {
                        "display": "table|panel"
                    }
                }
            },
            "state": {
                "values": {
                    "status": {
                        "display": "table|panel",
                        "alarms": [
                            {
                                "level": "error",
                                "condition": "equal %status Offline",
                                "text": "is Offline"
                            },
                            {
                                "level": "error",
                                "condition": "equal %status Server_Offline",
                                "text": "is Unavailable: parent Server is Offline"
                            }
                        ]
                    },
                    "issues24h": {
                        "name": "Issues (24h)",
                        "description": "Events count: Storage Issues (24h)",
                        "display": "table|panel",
                        "calculate": "counterDelta %issues 24h",
                        "insert": "issues",
                        "alarms": [
                            {
                                "level": "warning",
                                "condition": "greaterThan %issues24h 0",
                                "text": "has %issues24h Storage Issue events in the last 24 hours"
                            },
                            {
                                "level": "error",
                                "condition": "greaterThan %issues24h 10",
                                "text": "has %issues24h Storage Issue events in the last 24 hours"
                            }
                        ]
                    }
                }
            },
            "activity": {
                "values": {
                    "readRateBps1m": {
                        "name": "Read Rate",
                        "display": "table|panel",
                        "format": "KB/s",
                        "calculate": "counterToAvg %readRateBps 1m",
                        "insert": "readRateBps"
                    },
                    "writeRateBps1m": {
                        "name": "Write Rate",
                        "display": "table|panel",
                        "format": "KB/s",
                        "calculate": "counterToAvg %writeRateBps 1m",
                        "insert": "writeRateBps"
                    },
                    "transactionsPerSecond": {
                        "name": "Transactions/s",
                        "description": "Analytics DB transactions per second",
                        "isOptional": true,
                        "display": "panel",
                        "format": "Tr/s"
                    }
                }
            },
            "space": {
                "values": {
                    "totalSpaceB": {
                        "name": "Total",
                        "description": "Total Space",
                        "display": "table|panel",
                        "format": "GB",
                        "isOptional": true
                    },
                    "mediaSpaceP": {
                        "name": "VMS Media(%)",
                        "description": "Space Used by VMS media (%)",
                        "display": "table|panel",
                        "format": "%",
                        "calculate": "divide %mediaSpaceB %totalSpaceB",
                        "insert": "mediaSpaceB",
                        "isOptional": true
                    },
                    "mediaSpaceB": {
                        "name": "VMS Media",
                        "description": "Space Used by VMS media",
                        "display": "panel",
                        "format": "GB",
                        "isOptional": true
                    }
                }
            }
        }
    },
    "networkInterfaces": {
        "name": "Network Interfaces",
        "resource": "Interface",
        "values": {
            "_": {
                "values": {
                    "name": {
                        "display": "table|panel"
                    }
                }
            },
            "info": {
                "values": {
                    "server": {
                        "display": "table|panel",
                        "format": "resource"
                    },
                    "state": {
                        "display": "table|panel"
                    },
                    "displayAddress": {
                        "name": "IP",
                        "isOptional": true,
                        "display": "table|panel"
                    },
                    "otherAddresses": {
                        "name": "Other IP addresses",
                        "isOptional": true,
                        "display": "panel"
                    }
                }
            },
            "rates": {
                "name": "I/O Rates",
                "values": {
                    "inBps": {
                        "isOptional": true
                    },
                    "outBps": {
                        "isOptional": true
                    },
                    "inBps1m": {
                        "name": "IN Rate",
                        "isOptional": true,
                        "format": "KB/s",
                        "display": "table|panel",
                        "calculate": "sampleAvg %inBps 1m",
                        "insert": "inBps"
                    },
                    "outBps1m": {
                        "name": "OUT Rate",
                        "isOptional": true,
                        "format": "KB/s",
                        "display": "table|panel",
                        "calculate": "sampleAvg %outBps 1m",
                        "insert": "outBps"
                    }
                }
            }
        }
    }
}
