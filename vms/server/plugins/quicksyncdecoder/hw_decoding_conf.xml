<?xml version="1.0" encoding="UTF-8"?>
<sequence>
  <set value="" resName="simultaneousStreamCount" resValue="0"/>      <!-- default value -->
  <condition resName="gpuDeviceString" matchType="wildcard">
    <set value="*AMD*" resName="simultaneousStreamCount" resValue="1"/>
    <sequence value="*Intel*">
<!--      <set resName="videoMemoryUsage" resValue="50000000"/>    -->
      <condition resName="totalCurrentNumberOfDecoders" matchType="greater">
        <set value="-1" resName="simultaneousStreamCount" resValue="24"/>
      </condition>

      <!-- do not use quicksync if displaying on Intel HD Graphics adapter -->
<!--    
      <condition resName="displayAdapterDeviceString" matchType="wildcard">
        <set value="*Intel*" resName="simultaneousStreamCount" resValue="0"/>
      </condition>
-->
    </sequence>
  </condition>

  <!-- Sandy Bridge maximum supported resolution 1920x1088 -->
  <condition resName="cpuFamily" matchType="equal">
		<condition value="6" resName="cpuModel" matchType="equal">
			<sequence value="42">
				<condition resName="framePictureWidth" matchType="greater">
					<set value="1920" resName="simultaneousStreamCount" resValue="0"/>
				</condition>
				<condition resName="framePictureHeight" matchType="greater">
					<set value="1088" resName="simultaneousStreamCount" resValue="0"/>
				</condition>
			</sequence>
		</condition>
  </condition>

  <!-- Ivy Bridge maximum supported resolution 4096x3520 -->
  <condition resName="cpuFamily" matchType="equal">
		<condition value="6" resName="cpuModel" matchType="equal">
			<sequence value="58">
				<condition resName="framePictureWidth" matchType="greater">
					<set value="2048" resName="simultaneousStreamCount" resValue="0"/>
				</condition>
				<condition resName="framePictureHeight" matchType="greater">
					<set value="1760" resName="simultaneousStreamCount" resValue="0"/>
				</condition>
			</sequence>
		</condition>
  </condition>

  <!-- splash screen always uses ffmpeg -->
  <condition resName="framePictureWidth" matchType="equal">
    <condition value="480" resName="framePictureHeight" matchType="equal">
      <condition value="272" resName="totalCurrentNumberOfDecoders" matchType="equal">
        <set value="0" resName="simultaneousStreamCount" resValue="0"/>
      </condition>
    </condition>
  </condition>

  <!-- rewind is not supported -->
  <condition resName="speed" matchType="less">
    <set value="0" resName="simultaneousStreamCount" resValue="0"/>
  </condition>

</sequence>
